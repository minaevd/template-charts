function init_gauge(){var t={lines:12,angle:.15,lineWidth:.44,pointer:{length:.9,strokeWidth:.035,color:"#000000"},limitMax:"false",colorStart:"#FFFFFF",strokeColor:"#E0E0E0",generateGradient:!0},e=document.getElementById("canvas_gauge"),a=new Gauge(e).setOptions(t);return a.maxValue=100,a.animationSpeed=32,a}function init_donut(){var t=Morris.Donut({element:"canvas_donut",data:[{label:"Inbound",value:382},{label:"Outbound",value:164},{label:"Manual",value:49},{label:"Internal",value:31}],colors:["#5DB2FF","#FB6E52","#A0D468","#FFCE55"]});return t}function init_spline(t){var e=new Morris.Area({element:"canvas_spline",data:t,xkey:"x",ykeys:["y2","y"],labels:["Shadow","Total calls"],xLabelFormat:function(){return""},axes:!0,grid:!0,ymax:100,ymin:0,lineColors:["#FAFAFA","#2DC3E8"],lineWidth:[1,1],fillOpacity:.5,parseTime:!1,pointSize:0,hideHover:!0,behaveLikeLine:!0,hoverCallback:function(t,e,a,n){var o=new Date(n.x);return"<b>"+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+"</b><br>"+n.y+" calls"}});return e}function getColor(t){var e=(120*(1-t)).toString(10);return["hsl(",e,",100%,50%)"].join("")}function stepChange(t,e,a){$("#chart_gauge .chart_value").each(function(){var n=$(this);jQuery({cnt:e}).animate({cnt:a},{duration:1e3,easing:"swing",step:function(){n.html(Math.ceil(this.cnt)+"%"),t.setOptions({colorStop:getColor(this.cnt/100)})}})})}$(document).ready(function(){var t=init_gauge(),e=init_donut(),a=Math.floor(100*Math.random()),n=a,o=0;t.set(a),$("#chart_gauge .chart_value").html(a+"%"),t.setOptions({colorStop:getColor(a/100)});for(var r=[],i=Math.floor(100*Math.random()),l=0,s=0;20>s;s++){r.push({x:new Date,y:i,y2:i+40}),(i>90||10>i)&&(i=50);var u=Math.floor(10*Math.random());1==l?(u-=2*u,l=0):l=1,i+=u}var c=init_spline(r),h=1,g=3,d=0;setInterval(function(){if(d%6==0){(a>90||10>a)&&(a=50);var s=Math.floor(10*Math.random());1==o?(s-=2*s,o=0):o=1,a+=s,t.set(a),stepChange(t,n,a),n=a}if(d%3==0){(i>90||10>i)&&(i=50);var u=Math.floor(10*Math.random());1==l?(u-=2*u,l=0):l=1,i+=u,r.splice(0,1),r.push({x:new Date,y:i,y2:i+40}),c.setData(r)}d%10==0&&(h>g&&(h=0),e.select(h++)),d++},500)});